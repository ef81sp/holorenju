# 公開前レビューレポート

調査日: 2026-02-11
調査方法: ソースコード精査 + ブラウザ実画面確認（localhost:5173）
対象: プレイヤー向け機能（エディタは非公開のため対象外）

---

## A. テキスト・内容の誤り

### A1. 「基本形な攻撃」文法誤り [高]

- **ファイル**: `src/components/pages/DifficultyPage.vue:54`
- **現状**: 連珠:初級カードの説明が「基本形な攻撃」
- **問題**: 「形な」は日本語として不自然。「基本的な攻撃」が正しい
- **修正案**: `基本的な攻撃`

### A2. 「存在の紹介」が意味不明 [中]

- **ファイル**: `public/scenarios/index.json:91`
- **現状**: EX:開局規定シナリオの説明が「存在の紹介」
- **問題**: 初見ユーザーにとって何の存在を紹介するのか分からない
- **修正案**: 例）`開局規定の概要を紹介します` など内容が伝わる説明に

### A3. 空の disclaimer タグ [低]

- **ファイル**: `src/components/common/InfoDialog.vue:79`
- **現状**: `<p class="disclaimer"></p>` が空のまま残存
- **問題**: 表示上の影響は軽微だが不要なマークアップ
- **修正案**: 削除

---

## B. 公開設定の問題

### B1. メニューに「シナリオ編集」ボタンが表示される [高]

- **ファイル**: `src/components/pages/MenuPage.vue:50-59`
- **現状**: メニュー画面に「シナリオ編集」ボタンが常に表示
- **問題**: エディタは非公開機能。一般ユーザーに見せるべきでない
- **修正案**: 環境変数やフラグで非表示にする、または本番ビルド時に除外

### B2. favicon が Vite デフォルトロゴのまま [高]

- **ファイル**: `index.html:5-8`, `public/vite.svg`
- **現状**: ブラウザタブに Vite のロゴが表示される
- **問題**: 公開アプリとしてブランドに合わない
- **修正案**: ホロ連珠用のアイコンを作成・差し替え

### B3. meta description がない [高]

- **ファイル**: `index.html`
- **現状**: `<meta name="description">` タグがない
- **問題**: 検索エンジンの結果にサイトの説明が表示されない
- **修正案**: `<meta name="description" content="ホロライブVTuberのフブキ・みこと一緒に連珠（五目並べ）を学べる学習ゲーム">` 等を追加

### B4. OGP タグがない [中]

- **ファイル**: `index.html`
- **現状**: og:title, og:description, og:image, twitter:card 等のタグがない
- **問題**: X(Twitter) や Discord 等で URL を共有した際にプレビューが表示されない
- **修正案**: OGP メタタグとサムネイル画像を追加

---

## C. 連珠ルール実装

**問題なし。**

- 禁手判定（三三禁・四四禁・長連禁）: 黒のみ正しく適用
- 勝利判定: 五連で勝利、黒の長連は禁手として正しく処理
- 用語: 活三・活四・達四・飛び三・飛び四 等すべて正確
- テスト: エッジケース含む包括的なテストカバレッジ（1352行）

---

## D. 技術的な堅牢性

### D1. localStorage アクセスが未保護 [中]

- **ファイル**: `src/logic/useFullscreenPrompt.ts:27-28, 39`
- **現状**: `localStorage.getItem()` / `setItem()` を直接呼び出し
- **問題**: Safari のプライベートブラウジング等で `SecurityError` がスローされる可能性がある
- **修正案**: try-catch で囲む

---

## 総評

| カテゴリ   | 評価                                          |
| ---------- | --------------------------------------------- |
| 連珠ルール | 正確                                          |
| UI文言     | 概ね良好。文法誤り1件、不明瞭な説明1件        |
| 公開設定   | favicon・メタタグ・エディタボタンの対応が必要 |
| 技術品質   | 概ね良好。localStorage の例外処理を推奨       |

高優先の修正対象: A1, B1, B2, B3
